%item-container {
  font-size: $core-font-size;
  font-weight: bold;
  padding: $content-padding/2 0;
  white-space: normal;
  @include word-wrap(break-word);
  transition: 0.35s ease;
}

%dropdown-column {
  width: $menu-col-width;
  float: left;
}

// Main Nav
.trajectory-main-nav {
  z-index: 20;

  .trajectory-standard {
    .trajectory-dropdown {
      @extend %dropdown-column;
    }
  }

  .trajectory-toplevel {
    > li {
      > .trajectory-menu-item-container {
        text-decoration: none;
        line-height: 1;
        @extend %item-container;
      }

      > .trajectory-menu-item-container {
        > .trajectory-menu-item-content {
          word-break: normal;
          line-height: normal;
        }
      }

      &.trajectory-parent .trajectory-menu-parent-indicator:after {
        width: 1.25rem;
        padding: 0.1rem 0.25rem 0.25rem 0rem;
        height: 1.25rem;
      }
    }

    i {
      opacity: 0.6;
    }
  }

  .trajectory-standard > .trajectory-dropdown,
  .trajectory-fullwidth > .trajectory-dropdown {
    &:before {
      top: -7px !important;
    }

    .trajectory-dropdown {
      top: -7px;
    }
  }

  .trajectory-standard .trajectory-dropdown,
  .trajectory-fullwidth .trajectory-dropdown {
    &:after {
      left: -30px !important;
    }
  }

  .trajectory-dropdown {
    text-align: left;
    border-radius: $border-radius;

    .dir-rtl & {
      text-align: right;
    }
  }

  .trajectory-sublevel {
    > li {
      margin: $content-margin/2 $content-margin * 1.5;
      padding: 0 0 $content-padding/4 0;

      > .trajectory-menu-item-container {
        line-height: normal;
        @extend %item-container;
        font-size: $core-font-size - 0.15;
        font-weight: bold;

        > .trajectory-menu-item-content {
          word-break: normal;
          vertical-align: top;
        }
      }

      &.trajectory-parent {
        .trajectory-menu-parent-indicator {
          right: 0;
          top: 0;
          margin-top: -0.35rem;

          &:after {
            content: $fa-caret-right;
            position: relative;
            opacity: 1;
            top: 0.75rem;
          }
        }
      }
    }
  }
}

// Hide on Mobile Menu Breakpoint
@if $menu-hide-on-mobile == 1 {
  @media only all and (max-width: $breakpoints-mobile-menu-breakpoint) {
    [data-trajectory-mobile-target] {
      display: none;
      visibility: hidden;
      pointer-events: none;
    }
  }
}

// Subtitle
.trajectory-menu-item-subtitle {
  opacity: 0.7;
}

// Preset Thumbnails
.trajectory-preset-thumbnails {
  .trajectory-block {
    flex: 1 1 auto !important;

    > .trajectory-content {
      margin: 1rem 0;
      padding: 0 0.5rem !important;
    }
  }
}

// Dropdown Side Offsets
@include dropdown-offset-x(15px, left);

// Dropdown Top Offsets
@include dropdown-offset-y(5px);

// Touch Device
.trajectory-menu-hastouch {
  .trajectory-standard,
  .trajectory-fullwidth {
    .trajectory-toplevel {
      > li {
        &.trajectory-menu-item-link-parent {
          > .trajectory-menu-item-container {
            > .trajectory-menu-parent-indicator {
              border-radius: $core-border-radius;
              margin: -0.2rem 0 -0.2rem 0.5rem;
              padding: 0.2rem;
            }
          }
        }
      }
    }

    .trajectory-sublevel {
      > li {
        &.trajectory-menu-item-link-parent {
          > .trajectory-menu-item-container {
            > .trajectory-menu-parent-indicator {
              border-radius: $border-radius;
              padding: 0.1rem;
              margin-top: -0.1rem;
              margin-right: -0.1rem;
            }
          }
        }
      }
    }
  }
}
